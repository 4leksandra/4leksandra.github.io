let books = [{
    "volumeInfo": {
        "authors": ["Richard A. Spencer"],
        "averageRating": 2.5,
        "categories": ["Literary Criticism"],
        "imageLinks": {
            "smallThumbnail": "http://books.google.com/books/content?id=7HgwCgAAQBAJ&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api",
            "thumbnail": "http://books.google.com/books/content?id=7HgwCgAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"
        },
        "language": "en",
        "pageCount": 324,
        "publishedDate": "2015-07-11",
        "publisher": "McFarland",
        "subtitle": "Greek and Roman Allusions in J.K. Rowlingâ€™s Modern Epic",
        "title": "Harry Potter and the Classical World"
    }
}, {
    "volumeInfo": {
        "imageLinks": {
            "smallThumbnail": "http://books.google.com/books/content?id=N3Ypq7AqtxQC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api",
            "thumbnail": "http://books.google.com/books/content?id=N3Ypq7AqtxQC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"
        },
        "language": "en",
        "publisher": "SIU Press",
        "title": "Harry Truman and Civil Rights"
    }
}, {
    "volumeInfo": {
        "authors": ["Andrew Blake"],
        "averageRating": 4,
        "categories": ["Literary Criticism"],
        "imageLinks": {
            "smallThumbnail": "http://books.google.com/books/content?id=Aaug_RnI-xQC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api",
            "thumbnail": "http://books.google.com/books/content?id=Aaug_RnI-xQC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"
        },
        "language": "en",
        "pageCount": 118,
        "publishedDate": "2002",
        "publisher": "Verso",
        "title": "The Irresistible Rise of Harry Potter"
    }
}, {
    "volumeInfo": {
        "authors": ["Lana A. Whited"],
        "averageRating": 4.5,
        "categories": ["Literary Criticism"],
        "imageLinks": {
            "smallThumbnail": "http://books.google.com/books/content?id=iO5pApw2JycC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api",
            "thumbnail": "http://books.google.com/books/content?id=iO5pApw2JycC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"
        },
        "language": "en",
        "pageCount": 418,
        "publishedDate": "2004",
        "publisher": "University of Missouri Press",
        "subtitle": "Perspectives on a Literary Phenomenon",
        "title": "The Ivory Tower and Harry Potter"
    }
}, {
    "volumeInfo": {
        "authors": ["Ruthann Mayes-Elma"],
        "averageRating": 2.5,
        "categories": ["Literary Criticism"],
        "imageLinks": {
            "smallThumbnail": "http://books.google.com/books/content?id=LiWrXUHgnL8C&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api",
            "thumbnail": "http://books.google.com/books/content?id=LiWrXUHgnL8C&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"
        },
        "language": "en",
        "pageCount": 155,
        "publishedDate": "2006-01-01",
        "publisher": "Rowman & Littlefield",
        "subtitle": "Not All that Empowering",
        "title": "Females and Harry Potter"
    }
}, {
    "volumeInfo": {
        "authors": ["Daniel H. Nexon", "Iver B. Neumann"],
        "averageRating": 4,
        "categories": ["Literary Criticism"],
        "imageLinks": {
            "smallThumbnail": "http://books.google.com/books/content?id=DKcWE3WXoj8C&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api",
            "thumbnail": "http://books.google.com/books/content?id=DKcWE3WXoj8C&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"
        },
        "language": "en",
        "pageCount": 245,
        "publishedDate": "2006",
        "publisher": "Rowman & Littlefield",
        "title": "Harry Potter and International Relations"
    }
}, {
    "volumeInfo": {
        "authors": ["Katie Nicholl"],
        "averageRating": 2.5,
        "categories": ["Biography & Autobiography"],
        "imageLinks": {
            "smallThumbnail": "http://books.google.com/books/content?id=YAY0DwAAQBAJ&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api",
            "thumbnail": "http://books.google.com/books/content?id=YAY0DwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"
        },
        "language": "en",
        "pageCount": 272,
        "publishedDate": "2018-03-20",
        "publisher": "Hachette Books",
        "subtitle": "Life, Loss, and Love",
        "title": "Harry"
    }
}, {
    "volumeInfo": {
        "authors": ["Ingrid Seward"],
        "categories": ["Biography & Autobiography"],
        "imageLinks": {
            "smallThumbnail": "http://books.google.com/books/content?id=jmKdOddurawC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api",
            "thumbnail": "http://books.google.com/books/content?id=jmKdOddurawC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"
        },
        "language": "en",
        "pageCount": 310,
        "publishedDate": "2003",
        "publisher": "Arcade Publishing",
        "title": "William and Harry"
    }
}, {
    "volumeInfo": {
        "authors": ["Ray Cooney", "Michael Cooney"],
        "averageRating": 5,
        "categories": ["Adoption"],
        "imageLinks": {
            "smallThumbnail": "http://books.google.com/books/content?id=BkPTZSzWKpYC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api",
            "thumbnail": "http://books.google.com/books/content?id=BkPTZSzWKpYC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"
        },
        "language": "en",
        "pageCount": 169,
        "publishedDate": "2007-01-01",
        "publisher": "Samuel French, Inc.",
        "subtitle": "A Comedy",
        "title": "Tom, Dick and Harry"
    }
}, {
    "volumeInfo": {
        "authors": ["Julie-Anne Sykley"],
        "averageRating": 1,
        "categories": ["Juvenile Nonfiction"],
        "imageLinks": {
            "smallThumbnail": "http://books.google.com/books/content?id=WV8pZj_oNBwC&printsec=frontcover&img=1&zoom=5&edge=curl&source=gbs_api",
            "thumbnail": "http://books.google.com/books/content?id=WV8pZj_oNBwC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api"
        },
        "language": "en",
        "pageCount": 268,
        "publishedDate": "2010",
        "publisher": "Interactive Publications",
        "title": "Harry Potter Power"
    }
}];

// === PRINT TITLES FUNCTION === 
//- do with forEach() and forIn() - 

function printTitles() {

    let key = "volumeInfo";
    let subkey = "title";

    for (let i = 0; i < books.length; i++) {
        console.log(books[i][key][subkey]);
    }

    // books.forEach(element => {
    //     console.log(books[element][subkey][key]);
    // });

    // -- ! having trouble with forEach() and forIn() -- 

    //     books.forEach(element =>{
    //         // books[0,1,2,3,4] elements
    //         books.for (let key in object) {
    //             if (object.hasOwnProperty(key)) {
    //                 const element = object[key];
    //             }
    //         }

    //     }
    //     )

    //     books.forEach(element => {
    //         console.log(books[element][key][subkey]);
    //     });
    // }

    // for (key in books) {
    //     console.log(books[key]);

    //     }
    // }
}
printTitles();

// === PRINT AUTHORS FUNCTION === 

function printAuthors() {

    let key = "volumeInfo";
    let subkey = "authors";

    for (let i = 0; i < books.length; i++) {
        console.log(books[i][key][subkey]);
    }

}
printAuthors();

// === FIND SHORTEST FUNCTION === 

function findShortest() {

    let firstKey = "volumeInfo";
    let title = "title";
    let pages = "pageCount";
    let currentShortest;
    let currentShortestPages;

    // itterate over all the books
    for (let i = 0; i < books.length; i++) {
        //if first book, it is the shortest. Get the number of pages for comparisons. 
        if (i == 0) {
            currentShortestPages = books[i][firstKey][pages];
            currentShortest = books[i][firstKey][title];
        } else {
            //if the compared book has less pages than the current shortest, set that book the the new current shortest
            if (books[i][firstKey][pages] < currentShortestPages) {
                currentShortestPages = books[i][firstKey][pages];
                currentShortest = books[i][firstKey][title];
            } else {
                currentShortest = currentShortest;
                currentShortestPages = currentShortestPages;
            }

        }

    }

    return currentShortest + " with " + currentShortestPages + " pages";
}

console.log("Current Shortest book is: " + findShortest());

// === ABOVE THREE FUNCTION === 

function aboveThree() {

    let result = [];
    let firstKey = "volumeInfo";
    let key = "averageRating";
    let title = "title";

    // push the title of the books where rating >= 3
    for (let i = 0; i < books.length; i++) {
        if (books[i][firstKey][key] > 3) {
            let currentBook = books[i][firstKey][title];
            // console.log(currentBook);
            result.push(currentBook);
        }
    }
    return result;
}

console.log(aboveThree());

// === FIND AUTHORS FUNCTION === 

function findAuthors() {
    let result = {};

    let firstKey = "volumeInfo";
    let title = "title";
    let authors = "authors";

    /* {
      "Females and Harry Potter" : ["Ruthann Mayes-Elma"],
      "Harry Potter and International Relations":  ["Daniel H. Nexon", "Iver B. Neumann"],
    }*/

    for (let i = 0; i < books.length; i++) {
        let property = books[i][firstKey][title];
        let value = books[i][firstKey][authors];
        result[property] = value;
    }

    // books.forEach(element => {
    //     let property = books[element][firstKey][title];
    //     let value = books[element][firstKey][authors];
    //    result[property] = value;
    // });


    return result;
}

console.log("findAuthors: " + JSON.stringify(findAuthors()));
// HOW TO SHOW LIKE A REAL OBJECT?